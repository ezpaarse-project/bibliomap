# BiblioMap

BiblioMap is a tool for real-time visualizing localised usage events generated by [ezPAARSE](https://github.com/ezpaarse-project/ezpaarse) in the browser.

How could it be useful ?
- To monitor your ezproxy EC consultations in real time
- To help ezPAARSE adoption in your institution
- Just for fun!

![bibliomap-shorter](https://github.com/user-attachments/assets/5151332c-444d-461c-89eb-e6423b154320)

[CNRS Bibliomap demonstrator](http://bibliomap.inist.fr/)

## Summary
- [Usage options](#usage-options)
- [Prerequisites](#prerequisites)
- [Installation and running a quick demo](#installation-and-running-a-quick-demo)
- [Developers](#developers)
- [Installation for development](installation-for-development)
- [BiblioMap Player](#bibliomap-player)

## Usage options

### Expo mode

In expo mode, the information drawer will automatically appear and disappear at set intervals. To activate this mode, add expo or e to the query string.

By default, the drawer is shown for 1 minute and then hidden for 10 minutes.

To customize these intervals, assign two comma-separated numbers to the expo parameter. The first number sets how long the drawer is shown, and the second sets how long it is hidden. Both values should be specified in seconds.

Examples:
  - http://bibliomap.inist.fr?expo (activates default expo mode: 1min shown / 10 min hidden)
  - http://bibliomap.inist.fr?e (the same but with a shortcut)  
  - http://bibliomap.inist.fr?expo=20,120 (activates customized expo mode: 20 sec shown / 120 sec hidden)  

## Prerequisites

  * Docker
  * Configuration file to set the environment variables (setup_*.sh)

## Installation and running a quick demo

```bash
# Clone the repository
git clone https://github.com/ezpaarse-project/bibliomap.git
cd bibliomap

# Load one configuration file
source ./setup_cnrs.sh 
# Or
source ./setup_istex.sh

# Start the tool
npm start
```

Then browse to http://localhost:3000

## Developers

## Installation for development

```bash
# Clone all the required repositories
git clone https://github.com/ezpaarse-project/bibliomap.git

# Load one configuration file
source ./setup_cnrs.sh 
# Or
source ./setup_istex.sh

# Install dependencies & Start the tool
npm run install
npm run start-debug
```

Then browse to http://localhost:3000

Whenever you want you can git pull all the git repositories using one command:
```
npm run pull
```

### BiblioMap Player

BiblioMap now has a player mode: provide it consultation event files and it will play in real time. The replay mode features a time multiplier and a slider, which makes it times faster to have a quicker preview of what happened during that day.

__How to use the replay mode?__

You will need to configure the Docker Compose files. All the needed details are written in each of their README.md files.
